webpackJsonp([1],{123:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var l in r)void 0===n[l]&&(n[l]=r[l]);else n||(n=r||{});if(1===a)n.children=i;else if(a>1){for(var u=Array(a),s=0;s<a;s++)u[s]=arguments[s+3];n.children=u}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=(o(s),n(163)),d=o(c);n(147),n(141);var f=function(e){function t(){var e,n,o,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.defaultProps={options:{closeOnScroll:!1}},o.handleClose=function(){var e=o.props.onZoomOut;e()},a=n,r(o,a)}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.interactions.isGalleryZoomed,n=void 0!==t&&t,o=e.mediaInfo.currentIndex,i=void 0===o?0:o,r=e.articleInfo.media;r=void 0===r?{}:r;var a=r.images,u=void 0===a?[]:a,s=Array.isArray(u)&&(u[i]||{}),c=s.sources;c=void 0===c?{}:c;var f=c.zoom,p=void 0===f?"":f,m=[{src:p,w:762,h:1100}],v=this.props.options;return l(d["default"],{id:"my-photoswipe",isOpen:n,options:v,items:m,onClose:this.handleClose})}}]),t}(s.Component);t["default"]=f},124:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){var e="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;return function(t,n,o,i){var r=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&r)for(var l in r)void 0===n[l]&&(n[l]=r[l]);else n||(n=r||{});if(1===a)n.children=i;else if(a>1){for(var u=Array(a),s=0;s<a;s++)u[s]=arguments[s+3];n.children=u}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),s=n(0),c=o(s),d=n(162),f=o(d),p=n(46),m=o(p),v=n(3),h=n(137),y=o(h),b=n(138),g=o(b);n(142);var x="z-vegas-main-gallery-zoom",w={CLOSE:n(47)["default"]},C=function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,d=Array(s),p=0;p<s;p++)d[p]=arguments[p];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),o.state={isKeyUpAdded:!1,events:{}},o.componentWillUnmount=function(){var e=o.state.events;e=void 0===e?{}:e;var t=e.keyUp;t&&(0,g["default"])(t)},o.componentDidUnMount=function(){var e=o.state.events.keyup;(0,g["default"])(e)},o.handleMouseMove=function(e){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0);if(t>=1280&&n>900)return!1;var i="zvui-gallery-swiper-slide-image",r=".zvui-gallery-swiper-slide.center",a=".zvui-gallery-swiper-slides-wrapper",l=1.5*e.deltaY||1.2*e.clientY,u=o.refs[x+"-modal"].node.querySelector(".ReactModal__Content"),s=window.innerHeight,c=u.querySelector(a).offsetHeight,d=s-c,f=d/c,p=e.target instanceof HTMLImageElement,m=e.target.parentNode.className===i;p&&m&&(u.querySelector(r).style.transform="translate3d(0%, "+l*f+"px, 0px)")},o.handleModalCloseRequest=function(e){var t=o.props.onZoomOut;return!!e&&(e&&e.preventDefault(),void(("keyup"!==e.type&&"keydown"!==e.type||27!==e.keyCode)&&"click"!==e.type||t()))},o.handleOnAfterOpenModal=function(){var e=o.state.events;e=void 0===e?{}:e;var t=e.keyUp;t||o.setState({events:{keyUp:(0,y["default"])(window,"keyup",o.handleModalCloseRequest,o)}})},o.render=function(){var e=o.props.interactions.isGalleryZoomed,t=void 0!==e&&e;return c["default"].createElement(f["default"],{className:x,contentLabel:x,ref:x+"-modal",closeTimeoutMS:100,isOpen:t,onAfterOpen:o.handleOnAfterOpenModal,onRequestClose:o.handleModalCloseRequest},u("div",{className:x+"-container"},void 0,u("div",{className:x+"-modal-header"},void 0,u("button",{type:"button",className:"close",onClick:o.handleModalCloseRequest},void 0,u(v.SvgIcon,{icon:w.CLOSE,width:15,height:15}))),u("div",{className:x+"-modal-body"},void 0,u(v.Intreact,{onMouseMove:o.handleMouseMove,onPandown:o.handleMouseMove,onPanup:o.handleMouseMove},void 0,c["default"].createElement(m["default"],l({},o.props,{showOverlay:!1,imageType:"zoom",enableOnClick:!1}))))))},a=n,r(o,a)}return a(t,e),t}(s.Component);t["default"]=C},133:function(e,t,n){function o(e,t,n){for(var o=-1,i=a(t),r=i.length;++o<r;){var l=i[o],u=e[l],s=n(u,t[l],l,e,t);(s===s?s===u:u!==u)&&(void 0!==u||l in e)||(e[l]=s)}return e}var i=n(148),r=n(151),a=n(134),l=r(function(e,t,n){return n?o(e,t,n):i(e,t)});e.exports=l},134:function(e,t,n){function o(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&a(b(e))}function r(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?y:t,e>-1&&e%1==0&&e<t}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=y}function l(e){for(var t=s(e),n=t.length,o=n&&e.length,i=!!o&&a(o)&&(f(e)||d(e)),l=-1,u=[];++l<n;){var c=t[l];(i&&r(c,o)||v.call(e,c))&&u.push(c)}return u}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function s(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(f(e)||d(e))&&t||0;for(var n=e.constructor,o=-1,i="function"==typeof n&&n.prototype===e,l=Array(t),s=t>0;++o<t;)l[o]=o+"";for(var c in e)s&&r(c,t)||"constructor"==c&&(i||!v.call(e,c))||l.push(c);return l}var c=n(152),d=n(154),f=n(155),p=/^\d+$/,m=Object.prototype,v=m.hasOwnProperty,h=c(Object,"keys"),y=9007199254740991,b=o("length"),g=h?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&i(e)?l(e):u(e)?h(e):[]}:l;e.exports=g},135:function(e,t){function n(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&i(e)}function o(e){return e.offsetWidth<=0&&e.offsetHeight<=0||"none"===e.style.display}function i(e){for(;e&&e!==document.body;){if(o(e))return!1;e=e.parentNode}return!0}function r(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var o=isNaN(t);return(o||t>=0)&&n(e,!o)}function a(e){return[].slice.call(e.querySelectorAll("*"),0).filter(function(e){return r(e)})}e.exports=a},137:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n,o){function i(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var a=n.apply(o||this,i);return a===!1&&(e.stopPropagation(),e.preventDefault()),a}function r(){var t=n.call(e,window.event);return t===!1&&(window.event.returnValue=!1,window.event.cancelBubble=!0),t}return e.addEventListener?(e.addEventListener(t,i,!1),{elem:e,handler:i,event:t}):(e.attachEvent("on"+t,r),{elem:e,handler:r,event:t})};t["default"]=n},138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.elem.removeEventListener?e.elem.removeEventListener(e.event,e.handler):e.elem.detachEvent("on"+e.event,e.handler)};t["default"]=n},139:function(e,t){function n(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1}function o(e){if(!(this instanceof o))return new o(e);e||(e={}),e.nodeType&&(e={el:e}),this.opts=e,this.el=e.el||document.body,"object"!=typeof this.el&&(this.el=document.querySelector(this.el))}e.exports=function(e){return new o(e)},o.prototype.add=function(e){var t=this.el;if(t){if(""===t.className)return t.className=e;var o=t.className.split(" ");return n(o,e)>-1?o:(o.push(e),t.className=o.join(" "),o)}},o.prototype.remove=function(e){var t=this.el;if(t&&""!==t.className){var o=t.className.split(" "),i=n(o,e);return i>-1&&o.splice(i,1),t.className=o.join(" "),o}},o.prototype.has=function(e){var t=this.el;if(t){var o=t.className.split(" ");return n(o,e)>-1}},o.prototype.toggle=function(e){var t=this.el;t&&(this.has(e)?this.remove(e):this.add(e))}},140:function(e,t,n){var o;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};o=function(){return r}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}()},141:92,142:92,147:92,148:function(e,t,n){function o(e,t){return null==t?e:i(t,r(t),e)}var i=n(149),r=n(134);e.exports=o},149:function(e,t){function n(e,t,n){n||(n={});for(var o=-1,i=t.length;++o<i;){var r=t[o];n[r]=e[r]}return n}e.exports=n},150:function(e,t){function n(e,t,n){if("function"!=typeof e)return o;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,o,i){return e.call(t,n,o,i)};case 4:return function(n,o,i,r){return e.call(t,n,o,i,r)};case 5:return function(n,o,i,r,a){return e.call(t,n,o,i,r,a)}}return function(){return e.apply(t,arguments)}}function o(e){return e}e.exports=n},151:function(e,t,n){function o(e){return a(function(t,n){var o=-1,a=null==t?0:n.length,l=a>2?n[a-2]:void 0,u=a>2?n[2]:void 0,s=a>1?n[a-1]:void 0;for("function"==typeof l?(l=i(l,s,5),a-=2):(l="function"==typeof s?s:void 0,a-=l?1:0),u&&r(n[0],n[1],u)&&(l=a<3?void 0:l,a=1);++o<a;){var c=n[o];c&&e(t,c,l)}return t})}var i=n(150),r=n(153),a=n(156);e.exports=o},152:function(e,t){function n(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function i(e){return r(e)&&f.call(e)==l}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(i(e)?p.test(c.call(e)):n(e)&&u.test(e))}var l="[object Function]",u=/^\[object .+?Constructor\]$/,s=Object.prototype,c=Function.prototype.toString,d=s.hasOwnProperty,f=s.toString,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=o},153:function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function o(e){return null!=e&&a(c(e))}function i(e,t){return e="number"==typeof e||u.test(e)?+e:-1,t=null==t?s:t,e>-1&&e%1==0&&e<t}function r(e,t,n){if(!l(n))return!1;var r=typeof t;if("number"==r?o(n)&&i(t,n.length):"string"==r&&t in n){var a=n[t];return e===e?e===a:a!==a}return!1}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=/^\d+$/,s=9007199254740991,c=n("length");e.exports=r},154:function(e,t){function n(e){return i(e)&&m.call(e,"callee")&&(!h.call(e,"callee")||v.call(e)==c)}function o(e){return null!=e&&a(e.length)&&!r(e)}function i(e){return u(e)&&o(e)}function r(e){var t=l(e)?v.call(e):"";return t==d||t==f}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){return!!e&&"object"==typeof e}var s=9007199254740991,c="[object Arguments]",d="[object Function]",f="[object GeneratorFunction]",p=Object.prototype,m=p.hasOwnProperty,v=p.toString,h=p.propertyIsEnumerable;e.exports=n},155:function(e,t){function n(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return l(n)?n:void 0}function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=y}function r(e){return a(e)&&m.call(e)==s}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function l(e){return null!=e&&(r(e)?v.test(f.call(e)):n(e)&&c.test(e))}var u="[object Array]",s="[object Function]",c=/^\[object .+?Constructor\]$/,d=Object.prototype,f=Function.prototype.toString,p=d.hasOwnProperty,m=d.toString,v=RegExp("^"+f.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h=o(Array,"isArray"),y=9007199254740991,b=h||function(e){return n(e)&&i(e.length)&&m.call(e)==u};e.exports=b},156:function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(o);return t=i(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,o=-1,r=i(n.length-t,0),a=Array(r);++o<r;)a[o]=n[t+o];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var l=Array(t+1);for(o=-1;++o<t;)l[o]=n[o];return l[t]=a,e.apply(this,l)}}var o="Expected a function",i=Math.max;e.exports=n},157:function(e,t,n){var o=n(0),i=n(24),r=n(140),a=o.createFactory(n(158)),l=n(159),u=n(139),s=n(24).unstable_renderSubtreeIntoContainer,c=n(133),d=r.canUseDOM?window.HTMLElement:{},f=r.canUseDOM?document.body:{appendChild:function(){}},p=o.createClass({displayName:"Modal",statics:{setAppElement:function(e){f=l.setElement(e)},injectCSS:function(){}},propTypes:{isOpen:o.PropTypes.bool.isRequired,style:o.PropTypes.shape({content:o.PropTypes.object,overlay:o.PropTypes.object}),appElement:o.PropTypes.instanceOf(d),onAfterOpen:o.PropTypes.func,onRequestClose:o.PropTypes.func,closeTimeoutMS:o.PropTypes.number,ariaHideApp:o.PropTypes.bool,shouldCloseOnOverlayClick:o.PropTypes.bool},getDefaultProps:function(){return{isOpen:!1,ariaHideApp:!0,closeTimeoutMS:0,shouldCloseOnOverlayClick:!0}},componentDidMount:function(){this.node=document.createElement("div"),this.node.className="ReactModalPortal",document.body.appendChild(this.node),this.renderPortal(this.props)},componentWillReceiveProps:function(e){this.renderPortal(e)},componentWillUnmount:function(){i.unmountComponentAtNode(this.node),document.body.removeChild(this.node),u(document.body).remove("ReactModal__Body--open")},renderPortal:function(e){e.isOpen?u(document.body).add("ReactModal__Body--open"):u(document.body).remove("ReactModal__Body--open"),e.ariaHideApp&&l.toggle(e.isOpen,e.appElement),this.portal=s(this,a(c({},e,{defaultStyles:p.defaultStyles})),this.node)},render:function(){return o.DOM.noscript()}});p.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},e.exports=p},158:function(e,t,n){var o=n(0),i=o.DOM.div,r=n(160),a=n(161),l=n(133),u={overlay:{base:"ReactModal__Overlay",afterOpen:"ReactModal__Overlay--after-open",beforeClose:"ReactModal__Overlay--before-close"},content:{base:"ReactModal__Content",afterOpen:"ReactModal__Content--after-open",beforeClose:"ReactModal__Content--before-close"}};e.exports=o.createClass({displayName:"ModalPortal",getDefaultProps:function(){return{style:{overlay:{},content:{}}}},getInitialState:function(){return{afterOpen:!1,beforeClose:!1}},componentDidMount:function(){this.props.isOpen&&(this.setFocusAfterRender(!0),this.open())},componentWillUnmount:function(){clearTimeout(this.closeTimer)},componentWillReceiveProps:function(e){!this.props.isOpen&&e.isOpen?(this.setFocusAfterRender(!0),this.open()):this.props.isOpen&&!e.isOpen&&this.close()},componentDidUpdate:function(){this.focusAfterRender&&(this.focusContent(),this.setFocusAfterRender(!1))},setFocusAfterRender:function(e){this.focusAfterRender=e},open:function(){this.state.afterOpen&&this.state.beforeClose?(clearTimeout(this.closeTimer),this.setState({beforeClose:!1})):(r.setupScopedFocus(this.node),r.markForFocusLater(),this.setState({isOpen:!0},function(){this.setState({afterOpen:!0}),this.props.isOpen&&this.props.onAfterOpen&&this.props.onAfterOpen()}.bind(this)))},close:function(){this.ownerHandlesClose()&&(this.props.closeTimeoutMS>0?this.closeWithTimeout():this.closeWithoutTimeout())},focusContent:function(){this.refs.content.focus()},closeWithTimeout:function(){this.setState({beforeClose:!0},function(){this.closeTimer=setTimeout(this.closeWithoutTimeout,this.props.closeTimeoutMS)}.bind(this))},closeWithoutTimeout:function(){this.setState({beforeClose:!1,isOpen:!1,afterOpen:!1},this.afterClose)},afterClose:function(){r.returnFocus(),r.teardownScopedFocus()},handleKeyDown:function(e){9==e.keyCode&&a(this.refs.content,e),27==e.keyCode&&(e.preventDefault(),this.requestClose(e))},handleOverlayClick:function(e){for(var t=e.target;t;){if(t===this.refs.content)return;t=t.parentNode}this.props.shouldCloseOnOverlayClick&&(this.ownerHandlesClose()?this.requestClose(e):this.focusContent())},requestClose:function(e){this.ownerHandlesClose()&&this.props.onRequestClose(e)},ownerHandlesClose:function(){return this.props.onRequestClose},shouldBeClosed:function(){return!this.props.isOpen&&!this.state.beforeClose},buildClassName:function(e,t){var n=u[e].base;return this.state.afterOpen&&(n+=" "+u[e].afterOpen),this.state.beforeClose&&(n+=" "+u[e].beforeClose),t?n+" "+t:n},render:function(){var e=this.props.className?{}:this.props.defaultStyles.content,t=this.props.overlayClassName?{}:this.props.defaultStyles.overlay;return this.shouldBeClosed()?i():i({ref:"overlay",className:this.buildClassName("overlay",this.props.overlayClassName),style:l({},t,this.props.style.overlay||{}),onClick:this.handleOverlayClick},i({ref:"content",style:l({},e,this.props.style.content||{}),className:this.buildClassName("content",this.props.className),tabIndex:"-1",onKeyDown:this.handleKeyDown},this.props.children))}})},159:function(e,t){function n(e){if("string"==typeof e){var t=document.querySelectorAll(e);e="length"in t?t[0]:t}return u=e||u}function o(e){a(e),(e||u).setAttribute("aria-hidden","true")}function i(e){a(e),(e||u).removeAttribute("aria-hidden")}function r(e,t){e?o(t):i(t)}function a(e){if(!e&&!u)throw new Error("react-modal: You must set an element with `Modal.setAppElement(el)` to make this accessible")}function l(){u=document.body}var u="undefined"!=typeof document?document.body:null;t.toggle=r,t.setElement=n,t.show=i,t.hide=o,t.resetForTesting=l},160:function(e,t,n){function o(e){u=!0}function i(e){if(u){if(u=!1,!a)return;setTimeout(function(){if(!a.contains(document.activeElement)){var e=r(a)[0]||a;e.focus()}},0)}}var r=n(135),a=null,l=null,u=!1;t.markForFocusLater=function(){l=document.activeElement},t.returnFocus=function(){try{l.focus()}catch(e){console.warn("You tried to return focus to "+l+" but it is not in the DOM anymore")}l=null},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",o,!1),document.addEventListener("focus",i,!0)):(window.attachEvent("onBlur",o),document.attachEvent("onFocus",i))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",o),document.removeEventListener("focus",i)):(window.detachEvent("onBlur",o),document.detachEvent("onFocus",i))}},161:function(e,t,n){var o=n(135);e.exports=function(e,t){var n=o(e);if(!n.length)return void t.preventDefault();var i=n[t.shiftKey?0:n.length-1],r=i===document.activeElement||e===document.activeElement;if(r){t.preventDefault();var a=n[t.shiftKey?n.length-1:0];a.focus()}}},162:function(e,t,n){e.exports=n(157)},163:function(e,t,n){!function(t,o){e.exports=o(n(0))}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1)["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),d=o(c),f=n(3),p=o(f),m=n(4),v=o(m),h=n(5),y=o(h),b=n(6),g=o(b),x=n(7),w=o(x);n(8);var C="zvui-pinch",O=function(e){function t(){var e,n,o,i;r(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),_.call(o),i=n,a(o,i)}return l(t,e),s(t,[{key:"render",value:function(){var e=this.props.id,t=this.props.className;return t=(0,y["default"])([C,t]).trim(),d["default"].createElement("div",{id:e,className:t,tabIndex:"-1",role:"dialog",ref:(0,w["default"])(C)},d["default"].createElement("div",{className:C+"__bg"}),d["default"].createElement("div",{className:C+"__scroll-wrap"},d["default"].createElement("div",{className:C+"__container"},d["default"].createElement("div",{className:C+"__item"}),d["default"].createElement("div",{className:C+"__item"}),d["default"].createElement("div",{className:C+"__item"})),d["default"].createElement("div",{className:C+"__ui "+C+"__ui--hidden"},d["default"].createElement("div",{className:C+"__top-bar"},d["default"].createElement("button",{className:C+"__button "+C+"__button--close",title:"Close (Esc)"}),d["default"].createElement("div",{className:C+"__preloader"})))))}}]),t}(c.Component);O.propTypes={isOpen:c.PropTypes.bool.isRequired,items:c.PropTypes.array.isRequired,options:c.PropTypes.object,onClose:c.PropTypes.func,id:c.PropTypes.string,className:c.PropTypes.string},O.defaultProps={items:[],options:{}};var _=function(){var e=this;this.state={isOpen:!1},this.componentDidMount=function(){var t=e.state.isOpen;t&&e.openPhotoSwipe(e.props)},this.componentWillReceiveProps=function(t){var n=e.state.isOpen;t.isOpen?n?e.updateItems(t.items):e.openPhotoSwipe(t):n&&e.closePhotoSwipe()},this.componentWillUnmount=function(){e.closePhotoSwipe()},this.openPhotoSwipe=function(t){var n=t.items,o=t.options,r=e,a=r.refs[(0,w["default"])(C)];r.zvuiPinch=new p["default"](a,v["default"],n,o),g["default"].forEach(function(e){var n=t[e];(n||"destroy"===e)&&r.zvuiPinch.listen(e,function(){if(n){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.unshift(r),n.apply(void 0,i(t))}"destroy"===e&&r.handleClose()})}),r.setState({isOpen:!0},function(){r.zvuiPinch.init()})},this.updateItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.zvuiPinch.items.length=0,t.forEach(function(t){e.zvuiPinch.items.push(t)})},this.closePhotoSwipe=function(){e.zvuiPinch&&e.zvuiPinch.close()},this.handleClose=function(){var t=e.props.onClose;e.setState({isOpen:!1},function(){t&&t()})}};t["default"]=O},function(t,n){t.exports=e},function(e,t,n){var o,i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,a){o=a,i="function"==typeof o?o.call(t,n,t,e):o,!(void 0!==i&&(e.exports=i))}(void 0,function(e,t,n){return function(e,t,n,o){var i={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[i](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,n="",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!o.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10),a>=1&&a<8&&(o.isOldIOSPhone=!0))}var l=r.match(/Android\s([0-9\.]*)/),u=l?l[1]:0;u=parseFloat(u),u>=1&&(u<4.4&&(o.isOldAndroid=!0),o.androidVersion=u),o.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var s=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],d=void 0,f=void 0,p=0;p<4;p++){n=c[p];for(var m=0;m<3;m++)d=s[m],f=n+(n?d.charAt(0).toUpperCase()+d.slice(1):d),!o[d]&&f in t&&(o[d]=f);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}return o.raf||!function(){var e=0;o.raf=function(t){var n=(new Date).getTime(),o=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+o)},o);return e=n+o,i},o.caf=function(e){clearTimeout(e)}}(),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=o,o}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,o){t=t.split(" ");for(var i=(o?"detach":"attach")+"Event",a=void 0,l=function(){n.handleEvent.call(n)},u=0;u<t.length;u++)if(a=t[u])if("object"===("undefined"==typeof n?"undefined":r(n))&&n.handleEvent){if(o){if(!n["oldIE"+a])return!1}else n["oldIE"+a]=l;e[i]("on"+a,n["oldIE"+a])}else e[i]("on"+a,n)});var a=this,l=25,u=3,s={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(s,o);var c=function(){return{x:0,y:0}},d=void 0,f=void 0,p=void 0,m=void 0,v=void 0,h=void 0,y=c(),b=c(),g=c(),x=void 0,w=void 0,C=void 0,O={},_=void 0,E=void 0,T=void 0,S=void 0,I=void 0,M=void 0,A=0,P={},z=c(),F=void 0,k=void 0,D=0,R=void 0,L=void 0,N=void 0,j=void 0,Z=void 0,U=void 0,K=!0,W=void 0,q=[],H=void 0,B=void 0,G=void 0,$=void 0,Y=void 0,V=void 0,X=void 0,J={},Q=!1,ee=function(e,t){i.extend(a,t.publicMethods),q.push(e)},te=function(e){var t=rn();return e>t-1?e-t:e<0?t+e:e},ne={},oe=function(e,t){return ne[e]||(ne[e]=[]),ne[e].push(t)},ie=function(e){var t=ne[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(a,n)}},re=function(){return(new Date).getTime()},ae=function(e){gt=e,a.bg.style.opacity=e*s.bgOpacity},le=function(e,t,n,o,i){(!Q||i&&i!==a.currItem)&&(o/=i?i.fitRatio:a.currItem.fitRatio),e[Z]=T+t+"px, "+n+"px"+S+" scale("+o+")"},ue=function(e){ft&&(e&&(_>a.currItem.fitRatio?Q||(pn(a.currItem,!1,!0),Q=!0):Q&&(pn(a.currItem),Q=!1)),le(ft,g.x,g.y,_))},se=function(e){e.container&&le(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ce=function(e,t){t[Z]=T+e+"px, 0px"+S},de=function(e,t){if(!s.loop&&t){var n=m+(z.x*A-e)/z.x,o=Math.round(e-dt.x);(n<0&&o>0||n>=rn()-1&&o<0)&&(e=dt.x+o*s.mainScrollEndFriction)}dt.x=e,ce(e,v)},fe=function(e,t){var n=mt[e]-P[e];return b[e]+y[e]+n-n*(t/E)},pe=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},me=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},ve=null,he=function bn(){ve&&(i.unbind(document,"mousemove",bn),i.addClass(e,"zvui-pinch--has_mouse"),s.mouseUsed=!0,ie("mouseUsed")),ve=setTimeout(function(){ve=null},100)},ye=function(){i.bind(document,"keydown",a),X.transform&&i.bind(a.scrollWrap,"click",a),s.mouseUsed||i.bind(document,"mousemove",he),i.bind(window,"resize scroll",a),ie("bindEvents")},be=function(){i.unbind(window,"resize",a),i.unbind(window,"scroll",C.scroll),i.unbind(document,"keydown",a),i.unbind(document,"mousemove",he),X.transform&&i.unbind(a.scrollWrap,"click",a),et&&i.unbind(window,x,a),ie("unbindEvents")},ge=function(e,t){var n=sn(a.currItem,O,e);return t&&(ct=n),n},xe=function(e){return e||(e=a.currItem),e.initialZoomLevel},we=function(e){return e||(e=a.currItem),e.w>0?s.maxSpreadZoom:1},Ce=function(e,t,n,o){return o===a.currItem.initialZoomLevel?(n[e]=a.currItem.initialPosition[e],!0):(n[e]=fe(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Oe=function(){if(Z){var t=X.perspective&&!W;return T="translate"+(t?"3d(":"("),void(S=X.perspective?", 0px)":")")}Z="left",i.addClass(e,"zvui-pinch--ie"),ce=function(e,t){t.left=e+"px"},se=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},ue=function(){if(ft){var e=ft,t=a.currItem,n=t.fitRatio>1?1:t.fitRatio,o=n*t.w,i=n*t.h;e.width=o+"px",e.height=i+"px",e.left=g.x+"px",e.top=g.y+"px"}}},_e=function(e){var t="";s.escKey&&27===e.keyCode?t="close":s.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Ee=function(e){e&&(ot||nt||pt||Ye)&&(e.preventDefault(),e.stopPropagation())},Te=function(){a.setScrollOffset(0,i.getScrollY())},Se={},Ie=0,Me=function(e){Se[e]&&(Se[e].raf&&B(Se[e].raf),
Ie--,delete Se[e])},Ae=function(e){Se[e]&&Me(e),Se[e]||(Ie++,Se[e]={})},Pe=function(){for(var e in Se)Se.hasOwnProperty(e)&&Me(e)},ze=function(e,t,n,o,i,r,a){var l=re(),u=void 0;Ae(e);var s=function c(){if(Se[e]){if(u=re()-l,u>=o)return Me(e),r(n),void(a&&a());r((n-t)*i(u/o)+t),Se[e].raf=H(c)}};s()},Fe={shout:ie,listen:oe,viewportSize:O,options:s,isMainScrollAnimating:function(){return pt},getZoomLevel:function(){return _},getCurrentIndex:function(){return m},isDragging:function(){return et},isZooming:function(){return lt},setScrollOffset:function(e,t){P.x=e,V=P.y=t,ie("updateScrollOffset",P)},applyZoomPan:function(e,t,n,o){g.x=t,g.y=n,_=e,ue(o)},init:function(){if(!d&&!f){var n=void 0;a.helper=i,a.template=e,a.bg=i.getChildByClass(e,"zvui-pinch__bg"),G=e.className,d=!0,X=i.detectFeatures(),H=X.raf,B=X.caf,Z=X.transform,Y=X.oldIE,a.scrollWrap=i.getChildByClass(e,"zvui-pinch__scroll-wrap"),a.container=i.getChildByClass(a.scrollWrap,"zvui-pinch__container"),v=a.container.style,a.itemHolders=F=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],F[0].el.style.display=F[2].el.style.display="none",Oe(),C={resize:a.updateSize,scroll:Te,keydown:_e,click:Ee};var o=X.isOldIOSPhone||X.isOldAndroid||X.isMobileOpera;for(X.animationName&&X.transform&&!o||(s.showAnimationDuration=s.hideAnimationDuration=0),n=0;n<q.length;n++)a["init"+q[n]]();if(t){var r=a.ui=new t(a,i);r.init()}ie("firstUpdate"),m=m||s.index||0,(isNaN(m)||m<0||m>=rn())&&(m=0),a.currItem=on(m),(X.isOldIOSPhone||X.isOldAndroid)&&(K=!1),e.setAttribute("aria-hidden","false"),s.modal&&(K?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===V&&(ie("initialLayout"),V=$=i.getScrollY());var l="zvui-pinch--open ";for(s.mainClass&&(l+=s.mainClass+" "),s.showHideOpacity&&(l+="zvui-pinch--animate_opacity "),l+=W?"zvui-pinch--touch":"zvui-pinch--notouch",l+=X.animationName?" zvui-pinch--css_animation":"",l+=X.svg?" zvui-pinch--svg":"",i.addClass(e,l),a.updateSize(),h=-1,D=null,n=0;n<u;n++)ce((n+h)*z.x,F[n].el.style);Y||i.bind(a.scrollWrap,w,a),oe("initialZoomInEnd",function(){a.setContent(F[0],m-1),a.setContent(F[2],m+1),F[0].el.style.display=F[2].el.style.display="block",s.focus&&e.focus(),ye()}),a.setContent(F[1],m),a.updateCurrItem(),ie("afterInit"),K||(I=setInterval(function(){Ie||et||lt||_!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),i.addClass(e,"zvui-pinch--visible")}},close:function(){d&&(d=!1,f=!0,ie("close"),be(),Vt(a.currItem,null,!0,a.destroy))},destroy:function(){ie("destroy"),Yt&&clearTimeout(Yt),e.setAttribute("aria-hidden","true"),e.className=G,I&&clearInterval(I),i.unbind(a.scrollWrap,w,a),i.unbind(window,"scroll",a),_t(),Pe(),ne=null},panTo:function(e,t,n){n||(e>ct.min.x?e=ct.min.x:e<ct.max.x&&(e=ct.max.x),t>ct.min.y?t=ct.min.y:t<ct.max.y&&(t=ct.max.y)),g.x=e,g.y=t,ue()},handleEvent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;C[e.type]&&C[e.type](e)},goTo:function(e){e=te(e);var t=e-m;D=t,m=e,a.currItem=on(m),A-=t,de(z.x*A),Pe(),pt=!1,a.updateCurrItem()},next:function(){a.goTo(m+1)},prev:function(){a.goTo(m-1)},updateCurrZoomItem:function(e){if(e&&ie("beforeChange",0),F[1].el.children.length){var t=F[1].el.children[0];ft=i.hasClass(t,"zvui-pinch__zoom-wrap")?t.style:null}else ft=null;ct=a.currItem.bounds,E=_=a.currItem.initialZoomLevel,g.x=ct.center.x,g.y=ct.center.y,e&&ie("afterChange")},invalidateCurrItems:function(){M=!0;for(var e=0;e<u;e++)F[e].item&&(F[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==D){var t=Math.abs(D),n=void 0;if(!(e&&t<2)){a.currItem=on(m),Q=!1,ie("beforeChange",D),t>=u&&(h+=D+(D>0?-u:u),t=u);for(var o=0;o<t;o++)D>0?(n=F.shift(),F[u-1]=n,h++,ce((h+2)*z.x,n.el.style),a.setContent(n,m-t+o+1+1)):(n=F.pop(),F.unshift(n),h--,ce(h*z.x,n.el.style),a.setContent(n,m+t-o-1-1));if(ft&&1===Math.abs(D)){var i=on(k);i.initialZoomLevel!==_&&(sn(i,O),pn(i),se(i))}D=0,a.updateCurrZoomItem(),k=m,ie("afterChange")}}},updateSize:function(t){if(!K&&s.modal){var n=i.getScrollY();if(V!==n&&(e.style.top=n+"px",V=n),!t&&J.x===window.innerWidth&&J.y===window.innerHeight)return;J.x=window.innerWidth,J.y=window.innerHeight,e.style.height=J.y+"px"}if(O.x=a.scrollWrap.clientWidth,O.y=a.scrollWrap.clientHeight,Te(),z.x=O.x+Math.round(O.x*s.spacing),z.y=O.y,de(z.x*A),ie("beforeResize"),void 0!==h){for(var o=void 0,r=void 0,l=void 0,c=0;c<u;c++)o=F[c],ce((c+h)*z.x,o.el.style),l=m+c-1,s.loop&&rn()>2&&(l=te(l)),r=on(l),r&&(M||r.needsUpdate||!r.bounds)?(a.cleanSlide(r),a.setContent(o,l),1===c&&(a.currItem=r,a.updateCurrZoomItem(!0)),r.needsUpdate=!1):o.index===-1&&l>=0&&a.setContent(o,l),r&&r.container&&(sn(r,O),pn(r),se(r));M=!1}E=_=a.currItem.initialZoomLevel,ct=a.currItem.bounds,ct&&(g.x=ct.center.x,g.y=ct.center.y,ue(!0)),ie("resize")},zoomTo:function(e,t,n,o,r){t&&(E=_,mt.x=Math.abs(t.x)-g.x,mt.y=Math.abs(t.y)-g.y,pe(b,g));var a=ge(e,!1),l={};Ce("x",a,l,e),Ce("y",a,l,e);var u=_,s={x:g.x,y:g.y};me(l);var c=function(t){1===t?(_=e,g.x=l.x,g.y=l.y):(_=(e-u)*t+u,g.x=(l.x-s.x)*t+s.x,g.y=(l.y-s.y)*t+s.y),r&&r(t),ue(1===t)};n?ze("customZoomTo",0,1,n,o||i.easing.sine.inOut,c):c(1)}},ke=30,De=10,Re=void 0,Le=void 0,Ne={},je={},Ze={},Ue={},Ke={},We=[],qe={},He=void 0,Be=[],Ge={},$e=void 0,Ye=void 0,Ve=void 0,Xe=0,Je=c(),Qe=0,et=void 0,tt=void 0,nt=void 0,ot=void 0,it=void 0,rt=void 0,at=void 0,lt=void 0,ut=void 0,st=void 0,ct=void 0,dt=c(),ft=void 0,pt=void 0,mt=c(),vt=c(),ht=void 0,yt=void 0,bt=void 0,gt=void 0,xt=void 0,wt=function(e,t){return e.x===t.x&&e.y===t.y},Ct=function(e,t){return Math.abs(e.x-t.x)<l&&Math.abs(e.y-t.y)<l},Ot=function(e,t){return Ge.x=Math.abs(e.x-t.x),Ge.y=Math.abs(e.y-t.y),Math.sqrt(Ge.x*Ge.x+Ge.y*Ge.y)},_t=function(){it&&(B(it),it=null)},Et=function gn(){et&&(it=H(gn),Kt())},Tt=function(){return!("fit"===s.scaleMode&&_===a.currItem.initialZoomLevel)},St=function xn(e,t){return!(!e||e===document)&&((!e.getAttribute("class")||!e.getAttribute("class").includes("zvui-pinch__scroll-wrap"))&&(t(e)?e:xn(e.parentNode,t)))},It={},Mt=function(e,t){return It.prevent=!St(e.target,s.isClickableElement),ie("preventDragEvent",e,t,It),It.prevent},At=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Pt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},zt=function(e,t,n){if(e-Le>50){var o=Be.length>2?Be.shift():{};o.x=t,o.y=n,Be.push(o),Le=e}},Ft=function(){var e=g.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(O.y/2))},kt={},Dt={},Rt=[],Lt=void 0,Nt=function(e){for(;Rt.length>0;)Rt.pop();return U?(Lt=0,We.forEach(function(e){0===Lt?Rt[0]=e:1===Lt&&(Rt[1]=e),Lt++})):e.type.includes("touch")?e.touches&&e.touches.length>0&&(Rt[0]=At(e.touches[0],kt),e.touches.length>1&&(Rt[1]=At(e.touches[1],Dt))):(kt.x=e.pageX,kt.y=e.pageY,kt.id="",Rt[0]=kt),Rt},jt=function(e,t){var n=void 0,o=0,i=g[e]+t[e],r=void 0,l=t[e]>0,u=dt.x+t.x,c=dt.x-qe.x,d=void 0,f=void 0;return n=i>ct.min[e]||i<ct.max[e]?s.panEndFriction:1,i=g[e]+t[e]*n,!s.allowPanToNext&&_!==a.currItem.initialZoomLevel||(ft?"h"!==ht||"x"!==e||nt||(l?(i>ct.min[e]&&(n=s.panEndFriction,o=ct.min[e]-i,r=ct.min[e]-b[e]),(r<=0||c<0)&&rn()>1?(f=u,c<0&&u>qe.x&&(f=qe.x)):ct.min.x!==ct.max.x&&(d=i)):(i<ct.max[e]&&(n=s.panEndFriction,o=i-ct.max[e],r=b[e]-ct.max[e]),(r<=0||c>0)&&rn()>1?(f=u,c>0&&u<qe.x&&(f=qe.x)):ct.min.x!==ct.max.x&&(d=i))):f=u,"x"!==e)?void(pt||rt||_>a.currItem.fitRatio&&(g[e]+=t[e]*n)):(void 0!==f&&(de(f,!0),rt=f!==qe.x),ct.min.x!==ct.max.x&&(void 0!==d?g.x=d:rt||(g.x+=t.x*n)),void 0!==f)},Zt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(tn)return void e.preventDefault();if(!Ve||"mousedown"!==e.type){if(Mt(e,!0)&&e.preventDefault(),ie("pointerDown"),U){var t=i.arraySearch(We,e.pointerId,"id");t<0&&(t=We.length),We[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Nt(e),o=n.length;at=null,Pe(),et&&1!==o||(et=yt=!0,i.bind(window,x,a),$e=xt=bt=Ye=rt=ot=tt=nt=!1,ht=null,ie("firstTouchStart",n),pe(b,g),y.x=y.y=0,pe(Ue,n[0]),pe(Ke,Ue),qe.x=z.x*A,Be=[{x:Ue.x,y:Ue.y}],Le=Re=re(),ge(_,!0),_t(),Et()),!lt&&o>1&&!pt&&!rt&&(E=_,nt=!1,lt=tt=!0,y.y=y.x=0,pe(b,g),pe(Ne,n[0]),pe(je,n[1]),Pt(Ne,je,vt),mt.x=Math.abs(vt.x)-g.x,mt.y=Math.abs(vt.y)-g.y,ut=st=Ot(Ne,je))}}},Ut=function(e){if(U){var t=i.arraySearch(We,e.pointerId,"id");if(t>-1){var n=We[t];n.x=e.pageX,n.y=e.pageY}}if(et){var o=Nt(e);if(ht||ot||lt)at=o;else if(dt.x!==z.x*A)ht="h";else{var r=Math.abs(o[0].x-Ue.x)-Math.abs(o[0].y-Ue.y);Math.abs(r)>=De&&(ht=r>0?"h":"v",at=o)}}},Kt=function(){if(at){var e=at.length;if(0!==e)if(pe(Ne,at[0]),Ze.x=Ne.x-Ue.x,Ze.y=Ne.y-Ue.y,lt&&e>1){if(Ue.x=Ne.x,Ue.y=Ne.y,!Ze.x&&!Ze.y&&wt(at[1],je))return;pe(je,at[1]),nt||(nt=!0,ie("zoomGestureStarted"));var t=Ot(Ne,je),n=Gt(t);n>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(xt=!0);var o=1,i=xe(),r=we();if(n<i)if(s.pinchToClose&&!xt&&E<=a.currItem.initialZoomLevel){var l=i-n,u=1-l/(i/1.2);ae(u),ie("onPinchClose",u),bt=!0}else o=(i-n)/i,o>1&&(o=1),n=i-o*(i/3);else n>r&&(o=(n-r)/(6*i),o>1&&(o=1),n=r+o*i);o<0&&(o=0),ut=t,Pt(Ne,je,Je),y.x+=Je.x-vt.x,y.y+=Je.y-vt.y,pe(vt,Je),g.x=fe("x",n),g.y=fe("y",n),$e=n>_,_=n,ue()}else{if(!ht)return;if(yt&&(yt=!1,Math.abs(Ze.x)>=De&&(Ze.x-=at[0].x-Ke.x),Math.abs(Ze.y)>=De&&(Ze.y-=at[0].y-Ke.y)),Ue.x=Ne.x,Ue.y=Ne.y,0===Ze.x&&0===Ze.y)return;if("v"===ht&&s.closeOnVerticalDrag&&!Tt()){y.y+=Ze.y,g.y+=Ze.y;var c=Ft();return Ye=!0,ie("onVerticalDrag",c),ae(c),void ue()}zt(re(),Ne.x,Ne.y),ot=!0,ct=a.currItem.bounds;var d=jt("x",Ze);d||(jt("y",Ze),me(g),ue())}}},Wt=function(e){if(X.isOldAndroid){if(Ve&&"mouseup"===e.type)return;e.type.includes("touch")&&(clearTimeout(Ve),Ve=setTimeout(function(){Ve=0},600))}ie("pointerUp"),Mt(e,!1)&&e.preventDefault();var t=void 0;if(U){var n=i.arraySearch(We,e.pointerId,"id");if(n>-1)if(t=We.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var o={4:"mouse",2:"touch",3:"pen"};t.type=o[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var r=Nt(e),l=void 0,u=r.length;if("mouseup"===e.type&&(u=0),2===u)return at=null,!0;1===u&&pe(Ke,r[0]),0!==u||ht||pt||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ie("touchRelease",e,t));var c=-1;if(0===u&&(et=!1,i.unbind(window,x,a),_t(),lt?c=0:Qe!==-1&&(c=re()-Qe)),Qe=1===u?re():-1,l=c!==-1&&c<150?"zoom":"swipe",lt&&u<2&&(lt=!1,1===u&&(l="zoomPointerUp"),ie("zoomGestureEnded")),at=null,ot||nt||pt||Ye){if(Pe(),He||(He=qt()),He.calculateSwipeSpeed("x"),Ye){var d=Ft();return void(d<s.verticalDragRange?a.close():!function(){var e=g.y,t=gt;ze("verticalDrag",0,1,300,i.easing.cubic.out,function(n){g.y=(a.currItem.initialPosition.y-e)*n+e,ae((1-t)*n+t),ue()}),ie("onVerticalDrag",1)}())}if((rt||pt)&&0===u){var f=Bt(l,He);if(f)return;l="zoomPointerUp"}if(!pt)return"swipe"!==l?void $t():void(!rt&&_>a.currItem.fitRatio&&Ht(He))}},qt=function(){var e=void 0,t=void 0,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(o){Be.length>1?(e=re()-Le+50,t=Be[Be.length-2][o]):(e=re()-Re,t=Ke[o]),n.lastFlickOffset[o]=Ue[o]-t,n.lastFlickDist[o]=Math.abs(n.lastFlickOffset[o]),n.lastFlickDist[o]>20?n.lastFlickSpeed[o]=n.lastFlickOffset[o]/e:n.lastFlickSpeed[o]=0,Math.abs(n.lastFlickSpeed[o])<.1&&(n.lastFlickSpeed[o]=0),n.slowDownRatio[o]=.95,n.slowDownRatioReverse[o]=1-n.slowDownRatio[o],n.speedDecelerationRatio[o]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(g[e]>ct.min[e]?n.backAnimDestination[e]=ct.min[e]:g[e]<ct.max[e]&&(n.backAnimDestination[e]=ct.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,ze("bounceZoomPan"+e,g[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){g[e]=t,ue()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,g[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Se.zoomPan&&(Se.zoomPan.raf=H(n.panAnimLoop),n.now=re(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),ue(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return g.x=Math.round(g.x),g.y=Math.round(g.y),ue(),void Me("zoomPan")}};return n},Ht=function(e){return e.calculateSwipeSpeed("y"),ct=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(Ae("zoomPan"),e.lastNow=re(),void e.panAnimLoop())},Bt=function(e,t){var n=void 0;pt||(Xe=m);var o=void 0;if("swipe"===e){var r=Ue.x-Ke.x,l=t.lastFlickDist.x<10;r>ke&&(l||t.lastFlickOffset.x>20)?o=-1:r<-ke&&(l||t.lastFlickOffset.x<-20)&&(o=1)}var u=void 0;o&&(m+=o,m<0?(m=s.loop?rn()-1:0,u=!0):m>=rn()&&(m=s.loop?0:rn()-1,u=!0),u&&!s.loop||(D+=o,A-=o,n=!0));var c=z.x*A,d=Math.abs(c-dt.x),f=void 0;return n||c>dt.x==t.lastFlickSpeed.x>0?(f=Math.abs(t.lastFlickSpeed.x)>0?d/Math.abs(t.lastFlickSpeed.x):333,f=Math.min(f,400),f=Math.max(f,250)):f=333,Xe===m&&(n=!1),pt=!0,ie("mainScrollAnimStart"),ze("mainScroll",dt.x,c,f,i.easing.cubic.out,de,function(){Pe(),pt=!1,Xe=-1,(n||Xe!==m)&&a.updateCurrItem(),ie("mainScrollAnimComplete")}),n&&a.updateCurrItem(!0),n},Gt=function(e){return 1/st*e*E},$t=function(){var e=_,t=xe(),n=we();_<t?e=t:_>n&&(e=n);var o=1,r=void 0,l=gt;return bt&&!$e&&!xt&&_<t?(a.close(),!0):(bt&&(r=function(e){ae((o-l)*e+l)}),a.zoomTo(e,0,200,i.easing.cubic.out,r),!0)};ee("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,i){R=e+t,L=e+n,N=e+o,j=i?e+i:""};U=X.pointerEvent,U&&X.touch&&(X.touch=!1),U?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):X.touch?(e("touch","start","move","end","cancel"),W=!0):e("mouse","down","move","up"),x=L+" "+N+" "+j,w=R,U&&!W&&(W=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=W,C[R]=Zt,C[L]=Ut,C[N]=Wt,j&&(C[j]=C[N]),X.touch&&(w+=" mousedown",x+=" mousemove mouseup",C.mousedown=C[R],C.mousemove=C[L],C.mouseup=C[N]),W||(s.allowPanToNext=!1)}}});var Yt=void 0,Vt=function(t,n,o,r){Yt&&clearTimeout(Yt),tn=!0,en=!0;var l=void 0;t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=s.getThumbBoundsFn&&s.getThumbBoundsFn(m);var u=o?s.hideAnimationDuration:s.showAnimationDuration,c=function(){Me("initialZoom"),o?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(ae(1),n&&(n.style.display="block"),i.addClass(e,"zvui-pinch__animated-in"),ie("initialZoom"+(o?"OutEnd":"InEnd"))),r&&r(),tn=!1};if(!u||!l||void 0===l.x)return ie("initialZoom"+(o?"Out":"In")),_=t.initialZoomLevel,pe(g,t.initialPosition),ue(),e.style.opacity=o?0:1,ae(1),void(u?setTimeout(function(){c()},u):c());var d=function(){var n=p,r=!a.currItem.src||a.currItem.loadError||s.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),o||(_=l.w/t.w,g.x=l.x,g.y=l.y-$,a[r?"template":"bg"].style.opacity=.001,ue()),Ae("initialZoom"),o&&!n&&i.removeClass(e,"zvui-pinch__animated-in"),r&&(o?i[(n?"remove":"add")+"Class"](e,"zvui-pinch__animate_opacity"):setTimeout(function(){i.addClass(e,"zvui-pinch__animate_opacity")},30)),Yt=setTimeout(function(){ie("initialZoom"+(o?"Out":"In")),o?!function(){var o=l.w/t.w,a={x:g.x,y:g.y},s=_,d=gt,f=function(t){1===t?(_=o,g.x=l.x,g.y=l.y-V):(_=(o-s)*t+s,g.x=(l.x-a.x)*t+a.x,g.y=(l.y-V-a.y)*t+a.y),ue(),r?e.style.opacity=1-t:ae(d-t*d)};n?ze("initialZoom",0,1,u,i.easing.cubic.out,f,c):(f(1),Yt=setTimeout(c,u+20))}():(_=t.initialZoomLevel,pe(g,t.initialPosition),ue(),ae(1),r?e.style.opacity=1:ae(1),Yt=setTimeout(c,u+20))},o?25:90)};d()},Xt=void 0,Jt={},Qt=[],en=void 0,tn=void 0,nn={index:0,errorMsg:'<div class="zvui-pinch__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xt.length}},on=void 0,rn=void 0,an=void 0,ln=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},un=function(e,t,n){var o=e.bounds;o.center.x=Math.round((Jt.x-t)/2),o.center.y=Math.round((Jt.y-n)/2)+e.vGap.top,o.max.x=t>Jt.x?Math.round(Jt.x-t):o.center.x,o.max.y=n>Jt.y?Math.round(Jt.y-n)+e.vGap.top:o.center.y,o.min.x=t>Jt.x?0:o.center.x,o.min.y=n>Jt.y?e.vGap.top:o.center.y},sn=function(e,t,n){if(e.src&&!e.loadError){var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),ie("parseVerticalMargin",e)),Jt.x=t.x,Jt.y=t.y-e.vGap.top-e.vGap.bottom,o){var i=Jt.x/e.w,r=Jt.y/e.h;e.fitRatio=i<r?i:r;var a=s.scaleMode;"orig"===a?n=1:"fit"===a&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=ln())}if(!n)return;return un(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ln(),e.initialPosition=e.bounds.center,e.bounds},cn=function(e,t,n,o,i,r){t.loadError||o&&(t.imageAppended=!0,pn(t,o,t===a.currItem&&Q),n.appendChild(o),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},dn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("zvui-pinch__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},fn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=s.errorMsg.replace("%url%",e.src),!0},pn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var o=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=i+"px"),t.style.width=o+"px",t.style.height=i+"px"}},mn=function(){if(Qt.length){for(var e=void 0,t=0;t<Qt.length;t++)e=Qt[t],e.holder.index===e.index&&cn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);Qt=[]}};ee("Controller",{publicMethods:{lazyLoadItem:function(e){e=te(e);var t=on(e);t&&(!t.loaded&&!t.loading||M)&&(ie("gettingData",e,t),t.src&&dn(t))},initController:function(){i.extend(s,nn,!0),a.items=Xt=n,on=a.getItemAt,rn=s.getNumItemsFn,an=s.loop,rn()<3&&(s.loop=!1),oe("beforeChange",function(e){var t=s.preload,n=null===e||e>=0,o=Math.min(t[0],rn()),i=Math.min(t[1],rn()),r=void 0;for(r=1;r<=(n?i:o);r++)a.lazyLoadItem(m+r);for(r=1;r<=(n?o:i);r++)a.lazyLoadItem(m-r)}),oe("initialLayout",function(){a.currItem.initialLayout=s.getThumbBoundsFn&&s.getThumbBoundsFn(m)}),oe("mainScrollAnimComplete",mn),oe("initialZoomInEnd",mn),oe("destroy",function(){for(var e=void 0,t=0;t<Xt.length;t++)e=Xt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Qt=null})},getItemAt:function(e){return e>=0&&(void 0!==Xt[e]&&Xt[e])},allowProgressiveImg:function(){return s.forceProgressiveLoading||!W||s.mouseUsed||screen.width>1200},setContent:function(e,t){s.loop&&(t=te(t));var n=a.getItemAt(e.index);n&&(n.container=null);var o=a.getItemAt(t),r=void 0;if(!o)return void(e.el.innerHTML="");ie("gettingData",t,o),e.index=t,e.item=o;var l=o.container=i.createEl("zvui-pinch__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?l.appendChild(o.html):l.innerHTML=o.html),fn(o),sn(o,O),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(r=i.createEl("zvui-pinch__img","img"),r.style.opacity=1,r.src=o.src,pn(o,r),cn(t,o,l,r,!0));else{if(o.loadComplete=function(n){if(d){if(e&&e.index===t){if(fn(n,!0))return n.loadComplete=n.img=null,sn(n,O),se(n),void(e.index===m&&a.updateCurrZoomItem());n.imageAppended?!tn&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):X.transform&&(pt||tn)?Qt.push({item:n,baseDiv:l,img:n.img,index:t,holder:e,clearPlaceholder:!0}):cn(t,n,l,n.img,pt||tn,!0)}n.loadComplete=null,n.img=null,ie("imageLoadComplete",t,n)}},i.features.transform){var u="zvui-pinch__img zvui-pinch__img--placeholder";u+=o.msrc?"":" zvui-pinch__img--placeholder--blank";var c=i.createEl(u,o.msrc?"img":"");o.msrc&&(c.src=o.msrc),pn(o,c),l.appendChild(c),o.placeholder=c}o.loading||dn(o),a.allowProgressiveImg()&&(!en&&X.transform?Qt.push({item:o,baseDiv:l,img:o.img,index:t,holder:e}):cn(t,o,l,o.img,!0,!0))}en||t!==m?se(o):(ft=l.style,Vt(o,r||o.img)),e.el.innerHTML="",e.el.appendChild(l)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var vn=void 0,hn={},yn=function(e,t,n){var o=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("zvuiPinchTap",!0,!0,i),e.target.dispatchEvent(o)};ee("Tap",{publicMethods:{initTap:function(){oe("firstTouchStart",a.onTapStart),oe("touchRelease",a.onTapRelease),oe("destroy",function(){hn={},vn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(vn),vn=null)},onTapRelease:function(e,t){if(t&&!ot&&!tt&&!Ie){var n=t;if(vn&&(clearTimeout(vn),vn=null,Ct(n,hn)))return void ie("doubleTap",n);if("mouse"===t.type)return void yn(e,t,"mouse");var o=e.target.tagName.toUpperCase();if("BUTTON"===o||i.hasClass(e.target,"zvui-pinch__single-tap"))return void yn(e,t);pe(hn,n),vn=setTimeout(function(){yn(e,t),vn=null},300)}}}}),i.extend(a,Fe)}})},function(e,t,n){var o,i;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,a){o=a,i="function"==typeof o?o.call(t,n,t,e):o,!(void 0!==i&&(e.exports=i))}(void 0,function(e,t,n){return function(e,t){var n=this,o=!1,i=!0,r=void 0,a=void 0,l=void 0,u=void 0,s=void 0,c=void 0,d=void 0,f=void 0,p=void 0,m=void 0,v=void 0,h=void 0,y=void 0,b={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:100,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!1,fullscreenEl:!1,zoomEl:!0,counterEl:!1,arrowEl:!1,preloaderEl:!0,tapToClose:!0,tapToToggleControls:!0,clickToCloseNonZoomable:!0,indexIndicatorSep:" / ",fitControlsWidth:1200},g=void 0,x=void 0,w=function(e){if(g)return!0;e=e||window.event,y.timeToIdle&&y.mouseUsed&&!d&&M();for(var n=e.target||e.srcElement,o=void 0,i=n.getAttribute("class")||"",r=void 0,a=0;a<L.length;a++)o=L[a],o.onTap&&i.includes("zvui-pinch__"+o.name)&&(o.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),g=!0;var l=t.features.isOldAndroid?600:30;x=setTimeout(function(){g=!1},l)}},C=function(){return!e.likelyTouchDevice||y.mouseUsed||screen.width>y.fitControlsWidth},O=function(e,n,o){t[(o?"add":"remove")+"Class"](e,"zvui-pinch__"+n)},_=function(){var e=1===y.getNumItemsFn();e!==h&&(O(a,"ui--one-slide",e),h=e)},E=function(e){for(var n=0;n<y.closeElClasses.length;n++)if(t.hasClass(e,"zvui-pinch__"+y.closeElClasses[n]))return!0},T=void 0,S=void 0,I=0,M=function(){clearTimeout(S),I=0,d&&n.setIdle(!1)},A=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(S),S=setTimeout(function(){n.setIdle(!0)},y.timeToIdleOutside))},P=function(){y.fullscreenEl&&!t.features.isOldAndroid&&(r||(r=n.getFullscreenAPI()),r?(t.bind(document,r.eventK,n.updateFullscreen),n.updateFullscreen(),t.addClass(e.template,"zvui-pinch--supports-fs")):t.removeClass(e.template,"zvui-pinch--supports-fs"))},z=function(){y.preloaderEl&&(F(!0),f("beforeChange",function(){clearTimeout(v),v=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&F(!1):F(!0)},y.loadingIndicatorDelay)}),f("imageLoadComplete",function(t,n){e.currItem===n&&F(!0)}))},F=function(e){m!==e&&(O(p,"preloader--active",!e),m=e)},k=function(e){var n=e.vGap;if(C()){var o=y.barsSize;if(y.captionEl&&"auto"===o.bottom)if(u||(u=t.createEl("zvui-pinch__caption zvui-pinch__caption--fake"),u.appendChild(t.createEl("zvui-pinch__caption__center")),a.insertBefore(u,l),t.addClass(a,"zvui-pinch__ui--fit")),y.addCaptionHTMLFn(e,u,!0)){var i=u.clientHeight;n.bottom=parseInt(i,10)||44}else n.bottom=o.top;else n.bottom="auto"===o.bottom?0:o.bottom;n.top=o.top}else n.top=n.bottom=0},D=function(){y.timeToIdle&&f("mouseUsed",function(){t.bind(document,"mousemove",M),t.bind(document,"mouseout",A),T=setInterval(function(){I++,2===I&&n.setIdle(!0)},y.timeToIdle/2)})},R=function(){f("onVerticalDrag",function(e){i&&e<.95?n.hideControls():!i&&e>=.95&&n.showControls()});var e=void 0;f("onPinchClose",function(t){i&&t<.9?(n.hideControls(),e=!0):e&&!i&&t>.9&&n.showControls()}),f("zoomGestureEnded",function(){e=!1,e&&!i&&n.showControls()})},L=[{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--fs",option:"fullscreenEl",onTap:function(){r.isFullscreen()?r.exit():r.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],N=function(){var e=void 0,n=void 0,o=void 0,i=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var l=0;l<L.length;l++)o=L[l],n.includes("zvui-pinch__"+o.name)&&(y[o.option]?(t.removeClass(e,"zvui-pinch__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"zvui-pinch__element--disabled"))}};i(a.children);var r=t.getChildByClass(a,"zvui-pinch__top-bar");r&&i(r.children)};n.init=function(){t.extend(e.options,b,!0),y=e.options,a=t.getChildByClass(e.scrollWrap,"zvui-pinch__ui"),f=e.listen,R(),f("beforeChange",n.update),f("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(y.getDoubleTapZoom(!1,e.currItem),t,333)}),f("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&e.type.includes("mouse")&&(o.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),f("bindEvents",function(){t.bind(a,"zvuiPinchTap click",w),t.bind(e.scrollWrap,"zvuiPinchTap",n.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",n.onMouseOver)}),f("unbindEvents",function(){T&&clearInterval(T),t.unbind(document,"mouseout",A),t.unbind(document,"mousemove",M),t.unbind(a,"zvuiPinchTap click",w),t.unbind(e.scrollWrap,"zvuiPinchTap",n.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",n.onMouseOver),r&&(t.unbind(document,r.eventK,n.updateFullscreen),r.isFullscreen()&&(y.hideAnimationDuration=0,r.exit()),r=null)}),f("destroy",function(){y.captionEl&&(u&&a.removeChild(u),t.removeClass(l,"zvui-pinch__caption--empty")),t.removeClass(a,"zvui-pinch__ui--over-close"),t.addClass(a,"zvui-pinch__ui--hidden"),n.setIdle(!1)}),y.showAnimationDuration||t.removeClass(a,"zvui-pinch__ui--hidden"),f("initialZoomIn",function(){y.showAnimationDuration&&t.removeClass(a,"zvui-pinch__ui--hidden")}),f("initialZoomOut",function(){t.addClass(a,"zvui-pinch__ui--hidden")}),f("parseVerticalMargin",k),N(),_(),D(),P(),z()},n.setIdle=function(e){d=e,O(a,"ui--idle",e)},n.update=function(){i&&e.currItem?(n.updateIndexIndicator(),y.captionEl&&(y.addCaptionHTMLFn(e.currItem,l),O(l,"caption--empty",!e.currItem.title)),o=!0):o=!1,_()},n.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(r.isFullscreen()?"add":"remove")+"Class"](e.template,"zvui-pinch--fs")},n.updateIndexIndicator=function(){y.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+y.indexIndicatorSep+y.getNumItemsFn())},n.onGlobalTap=function(o){o=o||window.event;var r=o.target||o.srcElement;if(!g)if(o.detail&&"mouse"===o.detail.pointerType){if(E(r))return void e.close();t.hasClass(r,"zvui-pinch__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?y.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(o.detail.releasePoint))}else if(y.tapToToggleControls&&(i?n.hideControls():n.showControls()),y.tapToClose&&(t.hasClass(r,"zvui-pinch__img")||E(r)))return void e.close()},n.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;O(a,"ui--over-close",E(t))},n.hideControls=function(){t.addClass(a,"zvui-pinch__ui--hidden"),i=!1},n.showControls=function(){i=!0,o||n.update(),t.removeClass(a,"zvui-pinch__ui--hidden")},n.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},n.getFullscreenAPI=function(){var t=document.documentElement,n=void 0,o="fullscreenchange";return t.requestFullscreen?n={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:o}:t.mozRequestFullScreen?n={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+o}:t.webkitRequestFullscreen?n={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+o}:t.msRequestFullscreen&&(n={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),n&&(n.enter=function(){return c=y.closeOnScroll,y.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},n.exit=function(){return y.closeOnScroll=c,document[this.exitK]()},n.isFullscreen=function(){return document[this.elementK]}),n}}})},function(e,t,n){var o,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===i)for(var a in o)r.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var r={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(o=[],i=function(){return n}.apply(t,o),!(void 0!==i&&(e.exports=i)))}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=["beforeChange","afterChange","imageLoadComplete","resize","initialZoomIn","initialZoomInEnd","initialZoomOut","initialZoomOutEnd","close","unbindEvents","destroy","updateScrollOffset","preventDragEvent"]},function(e,t){"use strict";function n(e){for(var t=!1,n=0;n<e.length;n++){var o=e.charAt(n);t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.substr(0,n)+"-"+e.substr(n),t=!1,n++):t=o.toLowerCase()===o}return e}e.exports=function(){var e=[].map.call(arguments,function(e){return e.trim()}).filter(function(e){return e.length}).join("-");return e.length?1===e.length?e.toLowerCase():/[_.\- ]+/.test(e)?(e=n(e),e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()})):e===e.toUpperCase()?e.toLowerCase():e[0]!==e[0].toLowerCase()?e[0].toLowerCase()+e.slice(1):e:""}},function(e,t){}])})}});